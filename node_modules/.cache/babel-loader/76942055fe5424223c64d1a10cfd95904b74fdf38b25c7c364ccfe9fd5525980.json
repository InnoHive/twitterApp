{"ast":null,"code":"var _jsxFileName = \"/Users/nana/Desktop/twitterApp/frontend/src/features/register/components/RegisterNextButton/RegisterNextButton.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { incrementStep, registerUser, sendVerification, updateUserPhone } from \"../../../../redux/Slices/RegisterSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const StyledNextButton = styled.button`\n    width: 75%;\n    height: 52px;\n    font-size: 17px;\n    color: white;\n    background-color: ${props => props.color === 'blue' ? props.theme.colors.blue : props.theme.colors.black};\n    opacity: ${props => props.active ? 1.0 : .5};\n    border-radius: 50px;\n    border:none;\n    cursor: ${props => props.active ? \"pointer\" : \"auto\"};\n`;\n_c = StyledNextButton;\nexport const RegisterNextButton = _ref => {\n  _s();\n  let {\n    step\n  } = _ref;\n  const state = useSelector(state => state.reggister);\n  const dispatch = useDispatch();\n  const nextStep = () => {\n    dispatch(incrementStep());\n  };\n  const sendUserInfo = () => {\n    const user = {\n      firstName: state.firstName,\n      lastName: state.lastName,\n      email: state.email,\n      //dob: cleanDateForRequest(state.dob),\n      dob: new Date(state.dob.year, state.dob.month - 1,\n      // JavaScript months are 0-based, so we subtract 1\n      state.dob.day).toLocaleDateString('en-CA')\n    };\n    dispatch(registerUser(user));\n  };\n  const sendPhoneNumber = () => {\n    dispatch(updateUserPhone({\n      username: state.username,\n      phone: state.phoneNumber\n    }));\n  };\n  const verifyEmail = () => {\n    dispatch(sendVerification({\n      username: state.username,\n      code: state.code\n    }));\n  };\n  const determineButtonContent = step => {\n    console.log(\"rendering the button\");\n    switch (step) {\n      case 1:\n        let stepOneActive = state.dobValid && state.emailValid && state.firstNameValid && state.lastNameValid;\n        return /*#__PURE__*/_jsxDEV(StyledNextButton, {\n          disabled: !stepOneActive,\n          color: \"black\",\n          active: stepOneActive,\n          onClick: nextStep,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 24\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(StyledNextButton, {\n          active: true,\n          color: \"black\",\n          onClick: nextStep,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 28\n        }, this);\n      case 3:\n        return /*#__PURE__*/_jsxDEV(StyledNextButton, {\n          onClick: sendUserInfo,\n          color: \"black\",\n          active: true,\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 28\n        }, this);\n      case 4:\n        let stepFourActive = state.phoneNumber && state.phoneNumberValid ? true : false;\n        return /*#__PURE__*/_jsxDEV(StyledNextButton, {\n          disabled: !stepFourActive,\n          color: 'black',\n          active: stepFourActive,\n          onClick: sendPhoneNumber,\n          children: \"Update Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 29\n        }, this);\n      case 5:\n        let stepFiveActive = state.code ? true : false;\n        return /*#__PURE__*/_jsxDEV(StyledNextButton, {\n          active: stepFiveActive,\n          disabled: !stepFiveActive,\n          color: \"black\",\n          onClick: verifyEmail,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 29\n        }, this);\n      case 6:\n        return /*#__PURE__*/_jsxDEV(StyledNextButton, {\n          active: password.length >= 8,\n          disabled: !(password.length >= 8),\n          onClick: sendPassword,\n          color: \"black\",\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 29\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(StyledNextButton, {\n          disabled: true,\n          color: \"black\",\n          active: false,\n          onClick: () => console.log(\"hello\"),\n          children: step\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  return determineButtonContent(step);\n};\n_s(RegisterNextButton, \"OWEexU5OHYex9xaMlSTu7vfLe48=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c2 = RegisterNextButton;\nvar _c, _c2;\n$RefreshReg$(_c, \"StyledNextButton\");\n$RefreshReg$(_c2, \"RegisterNextButton\");","map":{"version":3,"names":["React","styled","useSelector","useDispatch","incrementStep","registerUser","sendVerification","updateUserPhone","jsxDEV","_jsxDEV","StyledNextButton","button","props","color","theme","colors","blue","black","active","_c","RegisterNextButton","_ref","_s","step","state","reggister","dispatch","nextStep","sendUserInfo","user","firstName","lastName","email","dob","Date","year","month","day","toLocaleDateString","sendPhoneNumber","username","phone","phoneNumber","verifyEmail","code","determineButtonContent","console","log","stepOneActive","dobValid","emailValid","firstNameValid","lastNameValid","disabled","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","stepFourActive","phoneNumberValid","stepFiveActive","password","length","sendPassword","_c2","$RefreshReg$"],"sources":["/Users/nana/Desktop/twitterApp/frontend/src/features/register/components/RegisterNextButton/RegisterNextButton.tsx"],"sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport { StyledNextButtonProps } from \"../../../../utils/GlobalInterfaces\";\nimport { AppDispatch, RootState } from \"../../../../redux/Store\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { incrementStep, registerUser, sendVerification, updateRegister, updateUserPhone } from \"../../../../redux/Slices/RegisterSlice\";\n\nexport const StyledNextButton = styled.button<StyledNextButtonProps>`\n    width: 75%;\n    height: 52px;\n    font-size: 17px;\n    color: white;\n    background-color: ${(props) =>props.color === 'blue' ? props.theme.colors.blue : props.theme.colors.black};\n    opacity: ${(props) => props.active ? 1.0 : .5};\n    border-radius: 50px;\n    border:none;\n    cursor: ${(props) => props.active ? \"pointer\" : \"auto\"};\n`;\n\n\ninterface RegisterNextButtonProps{\n    step:number;\n}\n\nexport const RegisterNextButton:React.FC<RegisterNextButtonProps> =({step}) =>{\n    const state = useSelector((state:RootState) => state.reggister);\n    const dispatch:AppDispatch = useDispatch();\n\n\n    const nextStep = () => {\n        dispatch(incrementStep());\n    }\n\n    const sendUserInfo = () => {\n        const user = {\n            firstName: state.firstName,\n            lastName: state.lastName,\n            email: state.email,\n            //dob: cleanDateForRequest(state.dob),\n            dob: new Date(\n                state.dob.year,\n                state.dob.month - 1, // JavaScript months are 0-based, so we subtract 1\n                state.dob.day\n            ).toLocaleDateString('en-CA')\n        }\n        dispatch(registerUser(user));\n    }\n\n\n    const sendPhoneNumber = () => {\n        dispatch(updateUserPhone({\n            username: state.username,\n            phone: state.phoneNumber \n        }))\n    }\n\n    const verifyEmail = () => {\n        dispatch(sendVerification({\n            username: state.username,\n            code: state.code,\n        }));\n    }\n\n    const determineButtonContent = (step:number):JSX.Element => {\n        console.log(\"rendering the button\");\n        switch(step){\n            case 1:\n                let stepOneActive = state.dobValid && state.emailValid && state.firstNameValid && state.lastNameValid;\n                return <StyledNextButton \n                            disabled={!stepOneActive}\n                            color={\"black\"}\n                            active={stepOneActive}\n                            onClick={nextStep}>\n                            Next\n                        </StyledNextButton>\n            case 2:\n                    return <StyledNextButton  \n                                active={true} \n                                color={\"black\"} \n                                onClick={ nextStep}>\n                                Next\n                            </StyledNextButton>\n            case 3:\n                    return <StyledNextButton \n                                onClick={sendUserInfo} \n                                color={\"black\"} \n                                active={true}>\n                                Sign Up\n                            </StyledNextButton>\n            case 4:\n                let stepFourActive = (state.phoneNumber && state.phoneNumberValid) ?  true : false;\n                    return  <StyledNextButton \n                                disabled={!stepFourActive}\n                                color={'black'}\n                                active={stepFourActive}\n                                onClick={sendPhoneNumber}>\n                                Update Number\n                            </StyledNextButton>\n            case 5: \n                let stepFiveActive = state.code ? true :false;\n                    return  <StyledNextButton \n                                active={stepFiveActive}\n                                disabled={!stepFiveActive}\n                                color={\"black\"}\n                                onClick={verifyEmail}>\n                                Next\n                            </StyledNextButton>\n            case 6: \n                    return  <StyledNextButton \n                                active={password.length >= 8}\n                                disabled={!(password.length >= 8)}\n                                onClick={sendPassword}\n                                color={\"black\"}>\n                                Next\n                            </StyledNextButton>\n            default:\n                return <StyledNextButton \n                            disabled={true}\n                            color={\"black\"}\n                            active={false}\n                            onClick={() => console.log(\"hello\")}>\n                            {step} \n                        </StyledNextButton>\n        }\n    }\n   return determineButtonContent(step);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}